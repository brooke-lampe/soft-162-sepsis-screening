ScreenManager:
    Screen:
        name: 'log_in'
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'OpenMRS Patient Information App'
                font_size: '30sp'
                color: (0.6, 0.1, 0.9)
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    text: 'username:'
                    font_size: '24sp'
                    size_hint: 0.5, 1
                    color: (0.6, 0.1, 0.9)
                TextInput:
                    id: username
                    size_hint: 0.5, 1
                    font_size: '24sp'
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    text: 'password:'
                    font_size: '24sp'
                    size_hint: 0.5, 1
                    color: (0.6, 0.1, 0.9)
                TextInput:
                    id: password
                    password: True
                    size_hint: 0.5, 1
                    font_size: '24sp'
            BoxLayout:
                orientation: 'vertical'
                Label:
                Label:
                    id: session
                    font_size: '24sp'
                    text: ''
                Label:
                    id: session2
                    font_size: '24sp'
                    text: ''
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    size_hint: 0.5, 0.5
                Button:
                    text: 'Log In'
                    size_hint: 0.5, 0.5
                    on_press:
                        root.transition.direction = 'left'
                        app.connect()
                        app.load_session()
    Screen:
        name: 'selection'
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'OpenMRS Patient Information App'
                font_size: '30sp'
                color: (0.6, 0.1, 0.9)
            BoxLayout:
                orientation: 'horizontal'
                Label:
                    text: 'OpenMRS ID:'
                    size_hint: 0.5, 1
                    font_size: '24sp'
                    color: (0.6, 0.1, 0.9)
                TextInput:
                    id: openmrs_id
                    size_hint: 0.5, 1
                    font_size: '24sp'
            Label:
                size_hint: 0.5, 0.5
            BoxLayout:
                orientation: 'vertical'
                Label:
                    id: retrieve
                    font_size: '24sp'
                    text: ''
                Label:
                    id: retrieve2
                    font_size: '24sp'
                    text: ''
            BoxLayout:
                orientation: 'horizontal'
                Button:
                    text: 'Log Out'
                    size_hint: 0.5, 0.5
                    on_press:
                        root.ids.password.text = ''
                        root.ids.session.text = ''
                        root.ids.session2.text = ''
                        root.ids.openmrs_id.text = ''
                        root.ids.diagnosis.clear_widgets()
                        root.ids.vitals.clear_widgets()
                        root.ids.labs.clear_widgets()
                        root.ids.diagnosis_timestamp.clear_widgets()
                        root.ids.vitals_timestamp.clear_widgets()
                        root.ids.labs_timestamp.clear_widgets()
                        root.transition.direction = 'right'
                        root.current = 'log_in'
                        app.connect()
                Button:
                    text: 'Select Patient'
                    size_hint: 0.5, 0.5
                    on_press:
                        root.transition.direction = 'left'
                        app.load_patient()
    Screen:
        name: 'summary'
        ScrollView:
            do_scroll_x: False
            bar_color: (0.6, 0.1, 0.9)
            bar_inactive_color: (0.6, 0.1, 0.9)
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, None
                height: 800
                Label:
                    text: 'OpenMRS Patient Information App'
                    font_size: '30sp'
                    color: (0.6, 0.1, 0.9)
                    size_hint: 1, None
                    height: 100
                Label:
                    text: 'Diagnosis'
                    color: (1, 0, 0)
                    font_size: '24sp'
                    size_hint: 1, None
                    height: 30
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 150
                    BoxLayout:
                        id: diagnosis
                        orientation: 'vertical'
                        size_hint: 1.2, 1
                    BoxLayout:
                        id: diagnosis_timestamp
                        orientation: 'vertical'
                        size_hint: 0.8, 1
                Label:
                    text: 'Vitals'
                    color: (1, 0, 0)
                    font_size: '24sp'
                    size_hint: 1, None
                    height: 30
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 150
                    BoxLayout:
                        id: vitals
                        orientation: 'vertical'
                        size_hint: 1.2, 1
                    BoxLayout:
                        id: vitals_timestamp
                        orientation: 'vertical'
                        size_hint: 0.8, 1
                Label:
                    text: 'Labs'
                    color: (1, 0, 0)
                    font_size: '24sp'
                    size_hint: 1, None
                    height: 30
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 220
                    BoxLayout:
                        id: labs
                        orientation: 'vertical'
                        size_hint: 1.2, 1
                    BoxLayout:
                        id: labs_timestamp
                        orientation: 'vertical'
                        size_hint: 0.8, 1
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, None
                    height: 100
                    Button:
                        text: 'Log Out'
                        size_hint: 0.5, None
                        height: 50
                        on_press:
                            root.ids.password.text = ''
                            root.ids.session.text = ''
                            root.ids.session2.text = ''
                            root.ids.openmrs_id.text = ''
                            root.ids.retrieve.text = ''
                            root.ids.retrieve2.text = ''
                            root.ids.diagnosis.clear_widgets()
                            root.ids.vitals.clear_widgets()
                            root.ids.labs.clear_widgets()
                            root.ids.diagnosis_timestamp.clear_widgets()
                            root.ids.vitals_timestamp.clear_widgets()
                            root.ids.labs_timestamp.clear_widgets()
                            root.transition.direction = 'right'
                            root.current = 'log_in'
                            app.connect()
                    Button:
                        text: 'Return to Patient Selection'
                        size_hint: 0.5, None
                        height: 50
                        on_press:
                            root.ids.retrieve.text = ''
                            root.ids.retrieve2.text = ''
                            root.ids.diagnosis.clear_widgets()
                            root.ids.vitals.clear_widgets()
                            root.ids.labs.clear_widgets()
                            root.ids.diagnosis_timestamp.clear_widgets()
                            root.ids.vitals_timestamp.clear_widgets()
                            root.ids.labs_timestamp.clear_widgets()
                            root.transition.direction = 'right'
                            root.current = 'selection'
